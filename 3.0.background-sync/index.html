<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/assets/style.css" />
    <script>
      // service worker dettection
      if ("serviceWorker" in navigator) {
        // register service worker
        navigator.serviceWorker
          .register("service-worker.js")
          .then(reg => {
            console.log(reg);
          })
          .catch(err => {
            console.error(err);
          });
        
        // request one of sync
        navigator.serviceWorker.ready.then(function(swRegistration) {
          return swRegistration.sync.register('myFirstSync');
        });
        
      }
    </script>
    <title>Background Sync - Service Worker</title>
  </head>
  <body>
    <div>
      <h1>Background Sync - Service Worker</h1>
      <p>
        Please check all cached static files in Chrome Developer Tools.<br />
        Service worker only worked for localhost and HTTPS, gogo
      </p>
    </div>
  </body>
</html>
